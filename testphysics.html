<html>
<head>
    <script src="math.js"></script>
    <script src="verb.js"></script>
    <script src="physics.js"></script>
    <script src="misc.js"></script>
    <style> body {  margin: 0; } </style>
</head>
<body>
<script>
//var wurst = new Vector2d(2,1,0);
//var ball = Object.create( phys_obj(wurst) );

//defineProp(ball,"radius", 2);
var tick	= 0.5; //testing
var pos = new Vector2d(2,3,0);
var pos2 = new Vector2d(4,5,0);
var speed = new Vector2d(1,1,1);
var acc = new Vector2d(1,2,1);

var phys_objs = [];

var circle = new Circle(2,pos,10);

circle.speed = speed;
circle.acc =acc;
circle.generateNurbsData();
circle.generateShape();

phys_objs.push(circle);

var ellipse = new Ellipse(2,1,pos2,10)
ellipse.speed = speed;
ellipse.acc =acc;
ellipse.generateNurbsData();
ellipse.generateShape();

phys_objs.push(ellipse);

var gravity = new Gravity();


var t = circle instanceof Circle;


var s = circle instanceof Phys_obj;

//circle.rotate();
var error_count = 0;
console.log("--------------------------------------------------------")
console.log("-------------------Test Physic functions----------------")
console.log("--------------------------------------------------------")
if(!circle.pos.compare_exact(pos) || t == false || s == false){error_count++; throw new Error('Circle inheritance error')};
console.log("Test circle inheritance:        should   true, true,[2,3,0] is :", t,s,circle.pos.x1,circle.pos.x2,circle.pos.x3);
circle.move();
if(!circle.pos.compare_exact(new Vector2d(2.75,4,0.75))){error_count++; throw new Error('Circle movement error')};
console.log("Test Circle movement:           should       [2.75,4,0.75] is :", circle.pos.x1,circle.pos.x2,circle.pos.x3);

gravity.on(phys_objs,"earth"); //turn gravity on !
console.log(gravity.acc);
move_phys_objs(phys_objs);

console.log("Test Gravity:           should       [3.75,3.5,0.75] is :", circle.pos.x1,circle.pos.x2,circle.pos.x3);
console.log("--------------------------------------------------------")
console.log("---------------"+ error_count +" errors found in physics.js-------------")
console.log("--------------------------------------------------------")

</script>

</body>  

</html>